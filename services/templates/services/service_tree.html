<!DOCTYPE html>
<html>
<head>
    <title>Lean Control Services</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 2rem;
        }

        h1 {
            margin-bottom: 1rem;
        }

        form.inline-form {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        select, input[type="text"] {
            font-size: 1rem;
            padding: 0.3rem;
        }

        summary {
            cursor: pointer;
            font-weight: bold;
            margin-top: 0.5rem;
        }

        .instance {
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .instance-meta {
            font-size: 0.9rem;
            color: #555;
        }

        details[hidden] {
            display: none;
        }

        .empty {
            color: #888;
        }
    </style>
</head>
<body>

<h1>Lean Control Services</h1>

{% for root_id in page_roots %}
{% include "services/_app_node.html" with app_id=root_id tree=tree_data.apps %}
{% endfor %}

<div style="margin-top: 2rem;">
    <form method="get" style="display: flex; gap: 1rem; align-items: center;">
        {% if mode %}<input type="hidden" name="mode" value="{{ mode }}">{% endif %}
        {% if search %}<input type="hidden" name="search" value="{{ search }}">{% endif %}

        <div>
            {% if page_obj.has_previous %}
            <button name="page" value="{{ page_obj.previous_page_number }}">Previous</button>
            {% endif %}

            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}

            {% if page_obj.has_next %}
            <button name="page" value="{{ page_obj.next_page_number }}">Next</button>
            {% endif %}
        </div>
    </form>
</div>


</body>
</html>
